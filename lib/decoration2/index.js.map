{"version":3,"file":"index.js","sources":["../../src/components/decoration2/index.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport classnames from 'classnames'\r\n\r\nimport useAutoResize from '../../use/autoResize'\r\n\r\nimport './style.less'\r\n\r\nconst Decoration = ({ reverse = false, className, style }) => {\r\n  const { width, height, domRef } = useAutoResize(calcSVGData, calcSVGData)\r\n\r\n  const [{ x, y, w, h }, setState] = useState({ x: 0, y: 0, w: 0, h: 0 })\r\n\r\n  function calcSVGData() {\r\n    setState(\r\n      reverse\r\n        ? { w: 1, h: height, x: width / 2, y: 0 }\r\n        : { w: width, h: 1, x: 0, y: height / 2 }\r\n    )\r\n  }\r\n\r\n  useEffect(calcSVGData, [reverse])\r\n\r\n  const classNames = useMemo(() => classnames('dv-decoration-2', className), [\r\n    className\r\n  ])\r\n\r\n  return (\r\n    <div className={classNames} style={style} ref={domRef}>\r\n      <svg width={`${width}px`} height={`${height}px`}>\r\n        <rect x={x} y={y} width={w} height={h} fill='#3faacb'>\r\n          <animate\r\n            attributeName={reverse ? 'height' : 'width'}\r\n            from='0'\r\n            to={reverse ? height : width}\r\n            dur='6s'\r\n            calcMode='spline'\r\n            keyTimes='0;1'\r\n            keySplines='.42,0,.58,1'\r\n            repeatCount='indefinite'\r\n          />\r\n        </rect>\r\n\r\n        <rect x={x} y={y} width='1' height='1' fill='#fff'>\r\n          <animate\r\n            attributeName={reverse ? 'y' : 'x'}\r\n            from='0'\r\n            to={reverse ? height : width}\r\n            dur='6s'\r\n            calcMode='spline'\r\n            keyTimes='0;1'\r\n            keySplines='0.42,0,0.58,1'\r\n            repeatCount='indefinite'\r\n          />\r\n        </rect>\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nDecoration.propTypes = {\r\n  reverse: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  style: PropTypes.object\r\n}\r\n\r\n// 指定 props 的默认值：\r\nDecoration.defaultProps = {\r\n  reverse: false\r\n}\r\n\r\nexport default Decoration\r\n"],"names":["Decoration","reverse","className","style","useAutoResize","calcSVGData","width","height","domRef","useState","x","y","w","h","setState","classNames","useMemo","classnames","React","propTypes","PropTypes","bool","string","object","defaultProps"],"mappings":";;;;;;;;;;;;;;;AAUA,IAAMA,aAAa,SAAbA,UAAa,OAA2C;0BAAxCC,OAAwC;MAAxCA,OAAwC,gCAA9B,KAA8B;MAAvBC,SAAuB,QAAvBA,SAAuB;MAAZC,KAAY,QAAZA,KAAY;;uBAC1BC,wBAAcC,WAAd,EAA2BA,WAA3B,CAD0B;MACpDC,KADoD,kBACpDA,KADoD;MAC7CC,MAD6C,kBAC7CA,MAD6C;MACrCC,MADqC,kBACrCA,MADqC;;kBAGzBC,eAAS,EAAEC,GAAG,CAAL,EAAQC,GAAG,CAAX,EAAcC,GAAG,CAAjB,EAAoBC,GAAG,CAAvB,EAAT,CAHyB;;;MAGnDH,CAHmD,eAGnDA,CAHmD;MAGhDC,CAHgD,eAGhDA,CAHgD;MAG7CC,CAH6C,eAG7CA,CAH6C;MAG1CC,CAH0C,eAG1CA,CAH0C;MAGrCC,QAHqC;;WAKnDT,WAAT,GAAuB;aAEnBJ,UACI,EAAEW,GAAG,CAAL,EAAQC,GAAGN,MAAX,EAAmBG,GAAGJ,QAAQ,CAA9B,EAAiCK,GAAG,CAApC,EADJ,GAEI,EAAEC,GAAGN,KAAL,EAAYO,GAAG,CAAf,EAAkBH,GAAG,CAArB,EAAwBC,GAAGJ,SAAS,CAApC,EAHN;;;kBAOQF,WAAV,EAAuB,CAACJ,OAAD,CAAvB;;MAEMc,aAAaC,cAAQ;WAAMC,qBAAW,iBAAX,EAA8Bf,SAA9B,CAAN;GAAR,EAAwD,CACzEA,SADyE,CAAxD,CAAnB;;SAKEgB;;MAAK,WAAWH,UAAhB,EAA4B,OAAOZ,KAAnC,EAA0C,KAAKK,MAA/C;;;QACO,OAAUF,KAAV,OAAL,EAA0B,QAAWC,MAAX,OAA1B;;;UACQ,GAAGG,CAAT,EAAY,GAAGC,CAAf,EAAkB,OAAOC,CAAzB,EAA4B,QAAQC,CAApC,EAAuC,MAAK,SAA5C;;yBAEmBZ,UAAU,QAAV,GAAqB,OADtC;gBAEO,GAFP;cAGMA,UAAUM,MAAV,GAAmBD,KAHzB;eAIM,IAJN;oBAKW,QALX;oBAMW,KANX;sBAOa,aAPb;uBAQc;;OAVlB;;;UAcQ,GAAGI,CAAT,EAAY,GAAGC,CAAf,EAAkB,OAAM,GAAxB,EAA4B,QAAO,GAAnC,EAAuC,MAAK,MAA5C;;yBAEmBV,UAAU,GAAV,GAAgB,GADjC;gBAEO,GAFP;cAGMA,UAAUM,MAAV,GAAmBD,KAHzB;eAIM,IAJN;oBAKW,QALX;oBAMW,KANX;sBAOa,eAPb;uBAQc;;;;GAzBtB;CAnBF;;AAoDAN,WAAWmB,SAAX,GAAuB;WACZC,UAAUC,IADE;aAEVD,UAAUE,MAFA;SAGdF,UAAUG;;;CAHnB,CAOAvB,WAAWwB,YAAX,GAA0B;WACf;CADX;;;;"}