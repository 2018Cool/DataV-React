{"version":3,"file":"index.js","sources":["../../src/components/decoration2/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport useAutoResize from '../../use/autoResize'\r\n\r\nimport './style.less'\r\n\r\nconst Decoration = ({ reverse = false }) => {\r\n  const { width, height, domRef } = useAutoResize(calcSVGData, calcSVGData)\r\n\r\n  const [{ x, y, w, h }, setState] = useState({ x: 0, y: 0, w: 0, h: 0 })\r\n\r\n  function calcSVGData() {\r\n    setState(\r\n      reverse\r\n        ? { w: 1, h: height, x: width / 2, y: 0 }\r\n        : { w: width, h: 1, x: 0, y: height / 2 }\r\n    )\r\n  }\r\n\r\n  useEffect(calcSVGData, [reverse])\r\n\r\n  return (\r\n    <div className='dv-decoration-2' ref={domRef}>\r\n      <svg width={`${width}px`} height={`${height}px`}>\r\n        <rect x={x} y={y} width={w} height={h} fill='#3faacb'>\r\n          <animate\r\n            attributeName={reverse ? 'height' : 'width'}\r\n            from='0'\r\n            to={reverse ? height : width}\r\n            dur='6s'\r\n            calcMode='spline'\r\n            keyTimes='0;1'\r\n            keySplines='.42,0,.58,1'\r\n            repeatCount='indefinite'\r\n          />\r\n        </rect>\r\n\r\n        <rect x={x} y={y} width='1' height='1' fill='#fff'>\r\n          <animate\r\n            attributeName={reverse ? 'y' : 'x'}\r\n            from='0'\r\n            to={reverse ? height : width}\r\n            dur='6s'\r\n            calcMode='spline'\r\n            keyTimes='0;1'\r\n            keySplines='0.42,0,0.58,1'\r\n            repeatCount='indefinite'\r\n          />\r\n        </rect>\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nDecoration.propTypes = {\r\n  reverse: PropTypes.bool\r\n}\r\n\r\n// 指定 props 的默认值：\r\nDecoration.defaultProps = {\r\n  reverse: false\r\n}\r\n\r\nexport default Decoration\r\n"],"names":["Decoration","reverse","useAutoResize","calcSVGData","width","height","domRef","useState","x","y","w","h","setState","React","propTypes","PropTypes","bool","defaultProps"],"mappings":";;;;;;;;;;;;;;AAQA,IAAMA,aAAa,SAAbA,UAAa,OAAyB;0BAAtBC,OAAsB;MAAtBA,OAAsB,gCAAZ,KAAY;;uBACRC,wBAAcC,WAAd,EAA2BA,WAA3B,CADQ;MAClCC,KADkC,kBAClCA,KADkC;MAC3BC,MAD2B,kBAC3BA,MAD2B;MACnBC,MADmB,kBACnBA,MADmB;;kBAGPC,eAAS,EAAEC,GAAG,CAAL,EAAQC,GAAG,CAAX,EAAcC,GAAG,CAAjB,EAAoBC,GAAG,CAAvB,EAAT,CAHO;;;MAGjCH,CAHiC,eAGjCA,CAHiC;MAG9BC,CAH8B,eAG9BA,CAH8B;MAG3BC,CAH2B,eAG3BA,CAH2B;MAGxBC,CAHwB,eAGxBA,CAHwB;MAGnBC,QAHmB;;WAKjCT,WAAT,GAAuB;aAEnBF,UACI,EAAES,GAAG,CAAL,EAAQC,GAAGN,MAAX,EAAmBG,GAAGJ,QAAQ,CAA9B,EAAiCK,GAAG,CAApC,EADJ,GAEI,EAAEC,GAAGN,KAAL,EAAYO,GAAG,CAAf,EAAkBH,GAAG,CAArB,EAAwBC,GAAGJ,SAAS,CAApC,EAHN;;;kBAOQF,WAAV,EAAuB,CAACF,OAAD,CAAvB;;SAGEY;;MAAK,WAAU,iBAAf,EAAiC,KAAKP,MAAtC;;;QACO,OAAUF,KAAV,OAAL,EAA0B,QAAWC,MAAX,OAA1B;;;UACQ,GAAGG,CAAT,EAAY,GAAGC,CAAf,EAAkB,OAAOC,CAAzB,EAA4B,QAAQC,CAApC,EAAuC,MAAK,SAA5C;;yBAEmBV,UAAU,QAAV,GAAqB,OADtC;gBAEO,GAFP;cAGMA,UAAUI,MAAV,GAAmBD,KAHzB;eAIM,IAJN;oBAKW,QALX;oBAMW,KANX;sBAOa,aAPb;uBAQc;;OAVlB;;;UAcQ,GAAGI,CAAT,EAAY,GAAGC,CAAf,EAAkB,OAAM,GAAxB,EAA4B,QAAO,GAAnC,EAAuC,MAAK,MAA5C;;yBAEmBR,UAAU,GAAV,GAAgB,GADjC;gBAEO,GAFP;cAGMA,UAAUI,MAAV,GAAmBD,KAHzB;eAIM,IAJN;oBAKW,QALX;oBAMW,KANX;sBAOa,eAPb;uBAQc;;;;GAzBtB;CAfF;;AAgDAJ,WAAWc,SAAX,GAAuB;WACZC,UAAUC;;;CADrB,CAKAhB,WAAWiB,YAAX,GAA0B;WACf;CADX;;;;"}