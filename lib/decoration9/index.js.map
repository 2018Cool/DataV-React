{"version":3,"file":"index.js","sources":["../../src/components/decoration9/index.js"],"sourcesContent":["import React, { useState, useRef, useMemo } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport classnames from 'classnames'\r\n\r\nimport useAutoResize from '../../use/autoResize'\r\n\r\nimport './style.less'\r\n\r\nconst svgWH = [100, 100]\r\n\r\nconst Decoration = ({ children, className, style }) => {\r\n  const { width, height, domRef } = useAutoResize(calcScale, calcScale)\r\n\r\n  const [svgScale, setSvgScale] = useState([1, 1])\r\n\r\n  const polygonIdRef = useRef(`decoration-9-polygon-${Date.now()}`)\r\n\r\n  function calcScale() {\r\n    const [w, h] = svgWH\r\n\r\n    setSvgScale([width / w, height / h])\r\n  }\r\n\r\n  const classNames = useMemo(\r\n    () => classnames('dv-decoration-9', className),\r\n    className\r\n  )\r\n\r\n  return (\r\n    <div className={classNames} style={style} ref={domRef}>\r\n      <svg\r\n        width={`${svgWH[0]}px`}\r\n        height={`${svgWH[1]}px`}\r\n        style={{ transform: `scale(${svgScale[0]},${svgScale[1]})` }}\r\n      >\r\n        <defs>\r\n          <polygon\r\n            id={polygonIdRef.current}\r\n            points='15, 46.5, 21, 47.5, 21, 52.5, 15, 53.5'\r\n          />\r\n        </defs>\r\n\r\n        <circle\r\n          cx='50'\r\n          cy='50'\r\n          r='45'\r\n          fill='transparent'\r\n          stroke='rgba(3, 166, 224, 0.5)'\r\n          strokeWidth='10'\r\n          strokeDasharray='80, 100, 30, 100'\r\n        >\r\n          <animateTransform\r\n            attributeName='transform'\r\n            type='rotate'\r\n            values='0 50 50;360 50 50'\r\n            dur='3s'\r\n            repeatCount='indefinite'\r\n          />\r\n        </circle>\r\n\r\n        <circle\r\n          cx='50'\r\n          cy='50'\r\n          r='45'\r\n          fill='transparent'\r\n          stroke='rgba(3, 166, 224, 0.8)'\r\n          strokeWidth='6'\r\n          strokeDasharray='50, 66, 100, 66'\r\n        >\r\n          <animateTransform\r\n            attributeName='transform'\r\n            type='rotate'\r\n            values='0 50 50;-360 50 50'\r\n            dur='3s'\r\n            repeatCount='indefinite'\r\n          />\r\n        </circle>\r\n\r\n        <circle\r\n          cx='50'\r\n          cy='50'\r\n          r='38'\r\n          fill='transparent'\r\n          stroke='rgba(3, 166, 224, 0.2)'\r\n          strokeWidth='1'\r\n          strokeDasharray='5, 1'\r\n        />\r\n        {new Array(20).fill(0).map((foo, i) => (\r\n          <use\r\n            key={i}\r\n            href={`#${polygonIdRef.current}`}\r\n            stroke='rgba(3, 166, 224, 0.6)'\r\n            fill={\r\n              Math.random() > 0.4 ? 'transparent' : 'rgba(3, 166, 224, 0.8)'\r\n            }\r\n          >\r\n            <animateTransform\r\n              attributeName='transform'\r\n              type='rotate'\r\n              values='0 50 50;360 50 50'\r\n              dur='3s'\r\n              begin={`${i * 0.15}s`}\r\n              repeatCount='indefinite'\r\n            />\r\n          </use>\r\n        ))}\r\n\r\n        <circle\r\n          cx='50'\r\n          cy='50'\r\n          r='26'\r\n          fill='transparent'\r\n          stroke='rgba(3, 166, 224, 0.2)'\r\n          strokeWidth='1'\r\n          strokeDasharray='5, 1'\r\n        />\r\n      </svg>\r\n\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nDecoration.propTypes = {\r\n  children: PropTypes.node,\r\n  className: PropTypes.string,\r\n  style: PropTypes.object\r\n}\r\n\r\nexport default Decoration\r\n"],"names":["svgWH","Decoration","children","className","style","useAutoResize","calcScale","width","height","domRef","useState","svgScale","setSvgScale","polygonIdRef","useRef","Date","now","w","h","classNames","useMemo","classnames","React","transform","current","Array","fill","map","foo","i","Math","random","propTypes","PropTypes","node","string","object"],"mappings":";;;;;;;;;;;;;;;AAUA,IAAMA,QAAQ,CAAC,GAAD,EAAM,GAAN,CAAd;;AAEA,IAAMC,aAAa,SAAbA,UAAa,OAAoC;MAAjCC,QAAiC,QAAjCA,QAAiC;MAAvBC,SAAuB,QAAvBA,SAAuB;MAAZC,KAAY,QAAZA,KAAY;;uBACnBC,wBAAcC,SAAd,EAAyBA,SAAzB,CADmB;MAC7CC,KAD6C,kBAC7CA,KAD6C;MACtCC,MADsC,kBACtCA,MADsC;MAC9BC,MAD8B,kBAC9BA,MAD8B;;kBAGrBC,eAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,CAHqB;;MAG9CC,QAH8C;MAGpCC,WAHoC;;MAK/CC,eAAeC,uCAA+BC,KAAKC,GAAL,EAA/B,CAArB;;WAESV,SAAT,GAAqB;QACZW,CADY,GACJjB,KADI;QACTkB,CADS,GACJlB,KADI;;;gBAGP,CAACO,QAAQU,CAAT,EAAYT,SAASU,CAArB,CAAZ;;;MAGIC,aAAaC,cACjB;WAAMC,qBAAW,iBAAX,EAA8BlB,SAA9B,CAAN;GADiB,EAEjBA,SAFiB,CAAnB;;SAMEmB;;MAAK,WAAWH,UAAhB,EAA4B,OAAOf,KAAnC,EAA0C,KAAKK,MAA/C;;;;eAEcT,MAAM,CAAN,CAAV,OADF;gBAEaA,MAAM,CAAN,CAAX,OAFF;eAGS,EAAEuB,sBAAoBZ,SAAS,CAAT,CAApB,SAAmCA,SAAS,CAAT,CAAnC,MAAF;;;;;;cAICE,aAAaW,OADnB;kBAES;;OARb;;;;cAaO,IADL;cAEK,IAFL;aAGI,IAHJ;gBAIO,aAJP;kBAKS,wBALT;uBAMc,IANd;2BAOkB;;;yBAGA,WADhB;gBAEO,QAFP;kBAGS,mBAHT;eAIM,IAJN;uBAKc;;OA1BlB;;;;cA+BO,IADL;cAEK,IAFL;aAGI,IAHJ;gBAIO,aAJP;kBAKS,wBALT;uBAMc,GANd;2BAOkB;;;yBAGA,WADhB;gBAEO,QAFP;kBAGS,oBAHT;eAIM,IAJN;uBAKc;;OA5ClB;;YAiDO,IADL;YAEK,IAFL;WAGI,IAHJ;cAIO,aAJP;gBAKS,wBALT;qBAMc,GANd;yBAOkB;QAvDpB;UAyDOC,KAAJ,CAAU,EAAV,EAAcC,IAAd,CAAmB,CAAnB,EAAsBC,GAAtB,CAA0B,UAACC,GAAD,EAAMC,CAAN;eACzBP;;;iBACOO,CADP;wBAEYhB,aAAaW,OAFzB;oBAGS,wBAHT;kBAKIM,KAAKC,MAAL,KAAgB,GAAhB,GAAsB,aAAtB,GAAsC;;;2BAIxB,WADhB;kBAEO,QAFP;oBAGS,mBAHT;iBAIM,IAJN;mBAKYF,IAAI,IAAd,MALF;yBAMc;;SAfS;OAA1B,CAzDH;;YA8EO,IADL;YAEK,IAFL;WAGI,IAHJ;cAIO,aAJP;gBAKS,wBALT;qBAMc,GANd;yBAOkB;;KArFtB;;GADF;CAlBF;;AAiHA5B,WAAW+B,SAAX,GAAuB;YACXC,UAAUC,IADC;aAEVD,UAAUE,MAFA;SAGdF,UAAUG;CAHnB;;;;"}